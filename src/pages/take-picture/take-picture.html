<ion-content class="page">
<!-- <p [innerHTML] = "colortest"> </p> -->
<!-- 	<div id="wrapper" [style.backgroundColor]="colorblot"> -->


	<div id="wrapper">
		<canvas #canvas></canvas>
		<canvas id="pictureCanvas"></canvas>
		
		<!-- <video id="video" preload autoplay loop muted controls></video> -->

		
		<div id="camera-actions" [ngSwitch]="colorSelectionStatus">
			<!-- <svg width="100" height="100">
				<g>
					<circle id="color-blot" cx="0" cy="0" r="100" [attr.fill] = "colorblot"></circle>
				</g>
			</svg> -->
			<ion-fab center bottom *ngSwitchCase="'notSelected'">
			<!-- <button ion-button id="selectColorButton" (click) = "selectColor()" [style.backgroundColor]="colorblot"> Select Color </button> -->
				<button ion-fab id="selectColorButton" class="small-round-button" (click) = "takePicture()"> <ion-icon name="search"></ion-icon> </button>
				
			</ion-fab>

			<div *ngSwitchCase="'selected'">
				<ion-fab left bottom>
				<!-- <button ion-button id="selectColorButton" (click) = "selectColor()" [style.backgroundColor]="colorblot"> Select Color </button> -->
					<button ion-fab id="cancelColorButton" class="small-round-button" (click) = "clearColor()" style="border: red"> <ion-icon name="close"></ion-icon> </button>
				</ion-fab>

				<ion-fab right bottom>
				<!-- <button ion-button id="selectColorButton" (click) = "selectColor()" [style.backgroundColor]="colorblot"> Select Color </button> -->
					<button ion-fab id="confirmColorButton" class="small-round-button" (click) = "selectColor()" [style.backgroundColor]="colorblot"> <ion-icon name="checkmark"></ion-icon> </button>
				</ion-fab>
			</div>
		</div>
	</div>
</ion-content>

<div [ngSwitch]="findingStatus">
	<div id="color-indicator" class="overlay" *ngSwitchCase="'finding'">
		<svg width="100%" height="100%" id="color-circle" xmlns="http://www.w3.org/2000/svg">
		    <defs>
		    </defs>
		    <rect x="0" y="80%" width="100%" height="8%" fill="grey" opacity="10%"></rect>
		    <text x="40%" y="85%" class="regular">Finding color...</text>
		</svg>
	</div>

	<div id="color-indicator" class="overlay" *ngSwitchCase="'found'">
		<svg width="100%" height="100%" id="color-circle" xmlns="http://www.w3.org/2000/svg">
		    <defs>
		    </defs>
		    <rect x="0" y="80%" width="100%" height="8%" fill="grey" opacity="10%"></rect>
		    <circle id="color-blot" cx="57%" cy="84%" r="3%" [style.fill] = "colorblot" stroke-width="5" stroke="white"></circle>
		    <text x="40%" y="85%" class="regular">I found </text>
		</svg>
	</div>
</div>


<!-- <ion-content center bottom>
	<ion-fab>
		<button ion-button (click) = "selectColor()"> Select Color </button>
	<ion-fab/>
<ion-content/> -->